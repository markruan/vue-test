{"remainingRequest":"/Users/mark/vue/vue-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/vue/vue-test/src/App.vue?vue&type=style&index=0&id=2ad1ec82&scoped=true&lang=css&","dependencies":[{"path":"/Users/mark/vue/vue-test/src/App.vue","mtime":1602900882900},{"path":"/Users/mark/vue/vue-test/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/mark/vue/vue-test/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mark/vue/vue-test/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mark/vue/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mark/vue/vue-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.player {\n  position: fixed;\n  width: 100%;\n  background-color: white;\n  bottom: 0;\n}\n.view {\n  margin-bottom: 22%;\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"view\">\n      <router-view />\n    </div>\n    <div class=\"player\" v-if=\"show\" v-show=\"shwowPlayer\"  >\n     \n      <aplayer\n        ref=\"aplayer\"\n        autoplay\n        @timeupdate=\"timeupdate\"\n        @pause=\"ispause\"\n        :music=\"songInfo\"\n        :list=\"playHistory\"\n        :currentTime=\"0\"\n        fixed\n        listFolded\n        @canplay=\"play\"\n    \n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Aplayer from \"vue-aplayer\";\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  name: \"app\",\n  data: () => ({\n    musicInfo: {},\n  }),\n  components: {\n    Aplayer\n  },\n  watch: {\n  '$store.state.songInfo': function (val) {\n      this.show = true;\n        let aplayer = this.$refs.aplayer;\n        aplayer.pause();\n        aplayer.play()\n    },\n    \n  },\n  created() {\n     this.show = false;\n     console.log(this.musicInfo)\n  },\n  async mounted() {\n     \n     console.log(this.songInfo)\n    //async   await 异步加载，先加载出player再使用\n    let aplayer = this.$refs.aplayer;\n    console.log(this.$refs.aplayer);\n  },\n  computed: {\n     ...mapState([\"playHistory\", \"currentIndex\", \"shwowPlayer\",\"pause\",\"songInfo\"])\n    \n  },\n  methods: {\n    play(e){\n       let aplayer = this.$refs.aplayer;\n       aplayer.play()\n       this.$store.commit('setDuration',e.target.duration)\n    },\n    ispause(e) {\n      this.$store.dispatch(\"isPlayingAction\", false);\n    \n    },\n    timeupdate(e) { \n      this.$store.dispatch(\"setCurrentTime\", e.target.currentTime);\n      this.$store.dispatch(\"isPlayingAction\", true);\n    }\n  }\n};\n</script>\n<style scoped>\n.player {\n  position: fixed;\n  width: 100%;\n  background-color: white;\n  bottom: 0;\n}\n.view {\n  margin-bottom: 22%;\n}\n</style>\n \n"]}]}