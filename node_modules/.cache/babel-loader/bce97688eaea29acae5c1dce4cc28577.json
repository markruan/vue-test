{"remainingRequest":"/Users/mark/vue/vue-test/node_modules/babel-loader/lib/index.js!/Users/mark/vue/vue-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mark/vue/vue-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/vue/vue-test/src/components/Vue-player.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/vue/vue-test/src/components/Vue-player.vue","mtime":1604666153311},{"path":"/Users/mark/vue/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mark/vue/vue-test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mark/vue/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mark/vue/vue-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"/Users/mark/vue/vue-test/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mark/vue/vue-test/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport fullplayer from \"../pages/player\";\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  name: \"app\",\n  data: function data() {\n    return {\n      musicInfo: {},\n      minOrMax: true\n    };\n  },\n  components: {\n    fullplayer: fullplayer\n  },\n  watch: {\n    songUrl: function songUrl(val) {\n      var _this = this;\n\n      if (val) {\n        this.show = true;\n        setTimeout(function () {\n          var aplayer = _this.$refs.aplayer;\n          aplayer.play();\n        }, 1000);\n      }\n    },\n    songId: function songId(val) {\n      if (val) {\n        this.getMusicInfo();\n      }\n    },\n    playing: function playing(val) {\n      if (!val) {\n        this.$refs.aplayer.pause();\n      } else {\n        this.$refs.aplayer.play();\n      }\n    },\n    showAplayer: function showAplayer(val) {// console.log(val)\n    }\n  },\n  created: function created() {\n    this.show = false;\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  computed: _objectSpread({}, mapState([\"songArtist\", \"songId\", \"songImg\", \"songName\", \"songUrl\", \"playing\", \"showAplayer\", \"playList\"])),\n  methods: _objectSpread(_objectSpread({}, mapActions([\"setSongNameActions\", \"setDurationActions\", \"setSongIdActions\", \"setSongUrlActions\", \"setSongImgActions\", \"setSongArtistActions\", \"setCurrentTimeActions\", \"setPlayingActions\"])), {}, {\n    handleEvent: function handleEvent(e) {// console.log(e);\n    },\n    isplay: function isplay(e) {\n      this.setPlayingActions(true);\n    },\n    play: function play(e) {\n      this.setPlayingActions(true);\n      this.setDurationActions(e.target.duration);\n    },\n    isplaying: function isplaying(e) {\n      // console.log(e);111\n      111;\n    },\n    ispause: function ispause(e) {\n      //  console.log(e);\n      this.setPlayingActions(false);\n    },\n    timeupdate: function timeupdate(e) {\n      this.setCurrentTimeActions(e.target.currentTime);\n      this.setDurationActions(e.target.duration);\n    },\n    isMinPlayer: function isMinPlayer() {\n      this.minOrMax = false;\n    },\n    getMusicInfo: function () {\n      var _getMusicInfo = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        var songData, this_;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$http.get(\"/song/detail\", {\n                  params: {\n                    ids: this.$route.params.id\n                  }\n                });\n\n              case 2:\n                songData = _context2.sent;\n                this.setSongNameActions(songData.data.songs[0].name);\n                this.setSongIdActions(songData.data.songs[0].id);\n                this.setSongImgActions(songData.data.songs[0].al.picUrl);\n                this.setSongArtistActions(songData.data.songs[0].ar[0].name);\n                this_ = this;\n                this.$http.get(\"/song/url\", {\n                  params: {\n                    id: this.$route.params.id\n                  }\n                }).then(function (response) {\n                  _this2.setSongUrlActions(response.data.data[0].url);\n                }).catch(function (error) {\n                  console.log(\"接口或处理逻辑出错\");\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getMusicInfo() {\n        return _getMusicInfo.apply(this, arguments);\n      }\n\n      return getMusicInfo;\n    }()\n  })\n};",{"version":3,"sources":["Vue-player.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"musicPlay\" v-if=\"songUrl\" v-show=\"showAplayer\">\n    <audio\n      ref=\"aplayer\"\n      controls=\"controls\"\n      :src=\"this.songUrl\"\n      @timeupdate=\"timeupdate\"\n      @play=\"play\"\n    />\n    <!--        迷你播放器-->\n    <div  v-show=\"minOrMax\" class=\"audio-com-box-min\">\n      <van-image round width=\"50px\" height=\"50px\" :src=\"songImg\" />\n      <div class=\"musicName\">\n        <p>{{songName===''?'正在播放电台':songName}}</p>\n        <p class=\"tip\" v-text=\"songArtist\"></p>\n      </div>\n      <div class=\"musicIcon\">\n        <van-icon\n          v-show=\"!playing\"\n          name=\"play-circle-o\"\n          size=\"36px\"\n          color=\"#bfbfbf\"\n           @click=\"isplay\"\n        />\n        <van-icon\n          v-show=\"playing\"\n          name=\"pause-circle-o\"\n          size=\"36px\"\n          color=\"#bfbfbf\"\n            @click=\"ispause\"\n        />\n        <van-icon \n          name=\"coupon-circle-o\"\n          size=\"24px\"\n          color=\"#bfbfbf\"\n          @click=\"ispause\"\n        />\n      </div>\n    </div>\n    <!--全屏模式-->\n    <div v-show=\"!minOrMax\" >\n     <fullplayer/>\n    </div>\n    \n  </div>\n</template>>\n\n<script>\nimport fullplayer from \"../pages/player\";\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  name: \"app\",\n  data: () => ({\n    musicInfo: {},\n    minOrMax:true\n  }),\n  components: {\n    fullplayer\n  },\n  watch: {\n    songUrl: function(val) {\n      if (val) {\n        this.show = true;\n        setTimeout(() => {\n          let aplayer = this.$refs.aplayer;\n          aplayer.play();\n        }, 1000);\n      }\n    },\n    songId(val) {\n      if (val) {\n        this.getMusicInfo();\n      }\n    },\n    playing(val) {\n      if (!val) {\n        this.$refs.aplayer.pause();\n      } else {\n        this.$refs.aplayer.play();\n      }\n    },\n    showAplayer(val) {\n      // console.log(val)\n    }\n  },\n  created() {\n    this.show = false;\n  },\n  async mounted() {},\n  computed: {\n    ...mapState([\n      \"songArtist\",\n      \"songId\",\n      \"songImg\",\n      \"songName\",\n      \"songUrl\",\n      \"playing\",\n      \"showAplayer\",\n      \"playList\"\n    ])\n  },\n  methods: {\n    ...mapActions([\n      \"setSongNameActions\",\n      \"setDurationActions\",\n      \"setSongIdActions\",\n      \"setSongUrlActions\",\n      \"setSongImgActions\",\n      \"setSongArtistActions\",\n      \"setCurrentTimeActions\",\n      \"setPlayingActions\"\n    ]),\n    handleEvent(e) {\n      // console.log(e);\n    },\n    isplay(e) {\n      this.setPlayingActions(true);\n    },\n    play(e) {\n      this.setPlayingActions(true);\n      this.setDurationActions(e.target.duration);\n    },\n    isplaying(e) {\n      // console.log(e);111\n      111;\n    },\n    ispause(e) {\n      //  console.log(e);\n      this.setPlayingActions(false);\n    },\n    timeupdate(e) {\n      this.setCurrentTimeActions(e.target.currentTime);\n      this.setDurationActions(e.target.duration);\n    },\n    isMinPlayer() {\n      this.minOrMax=false\n    },\n    async getMusicInfo() {\n      const songData = await this.$http.get(\"/song/detail\", {\n        params: {\n          ids: this.$route.params.id\n        }\n      });\n      this.setSongNameActions(songData.data.songs[0].name);\n      this.setSongIdActions(songData.data.songs[0].id);\n      this.setSongImgActions(songData.data.songs[0].al.picUrl);\n      this.setSongArtistActions(songData.data.songs[0].ar[0].name);\n\n      const this_ = this;\n      this.$http\n        .get(\"/song/url\", { params: { id: this.$route.params.id } })\n        .then(response => {\n          this.setSongUrlActions(response.data.data[0].url);\n        })\n        .catch(error => {\n          console.log(\"接口或处理逻辑出错\");\n        });\n    }\n  }\n};\n</script>>\n<style scoped >\naudio {\n  display: none;\n}\n@keyframes rotatePic {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.move2-enter-active,\n.move2-leave-active {\n  transition: all 0.7s;\n}\n\n/* 显示前或隐藏后的效果 */\n.move2-enter,\n.move2-leave-to {\n  transform: translateY(200%);\n}\n\n.audio-com-box-min {\n  position: fixed;\n  bottom: 0;\n  width: -webkit-fill-available;\n  border: 1px solid #e5e5e5;\n  border-radius: 10px;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.99);\n}\np {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: 1px;\n  \n}\n\n.tip {\n  margin-top: 5px;\n  font-size: 14px;\n  color: #a7a6a7;\n}\n\n.musicName {\n  flex: 3;\n  padding-left: 25px; \n  font-weight: 600;\n}\n/*音频图标*/\n\n.musicIcon {\n  flex: 1;\n\n  img {\n    margin-top: 15px;\n    margin-left: 50px;\n  }\n}\n\n.move-enter-active,\n.move-leave-active {\n  transition: all 0.7s;\n}\n\n/* 显示前或隐藏后的效果 */\n.move-enter,\n.move-leave-to {\n  transform: translateY(200%);\n}\n</style>"],"sourceRoot":"src/components"}]}